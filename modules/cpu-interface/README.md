# MINIX CPU Interface Module

**Scope**: Publication-grade analysis of the MINIX 3.4.0-RC6 CPU interface across syscall entry paths, context switching, paging, TLB behaviour, and micro-architectural considerations. This Tier 2 module hosts the CPU-focused assets referenced throughout the umbrella project. For executive context and roadmap status, begin with the root `MEGA-BEST-PRACTICES.md`.

---

## Layout

```
modules/cpu-interface/
├── docs/                      # Markdown sources mirrored from the atlas
│   ├── ISA-LEVEL-ANALYSIS.md
│   ├── MICROARCHITECTURE-DEEP-DIVE.md
│   └── MINIX-CPU-INTERFACE-ANALYSIS.md
├── latex/                     # LaTeX manuscripts and figures
│   ├── minix-complete-analysis.tex
│   ├── figures/               # TikZ/PGFPlots diagrams
│   └── plots/                 # Data tables and plots
├── mcp/                       # MCP integration hooks (Phase 5 target)
├── pipeline/                  # Reserved for CPU-specific helpers
├── tests/                     # Module-level tests (Phase 4 deliverable)
└── README.md
```

All LaTeX sources import the shared style suite under `shared/styles/` (`minix-arxiv.sty`, `minix-styles.sty`, `minix-colors.sty`). No module-local copies remain; update styles centrally.

---

## Key Deliverables

- `docs/MINIX-CPU-INTERFACE-ANALYSIS.md` – Comprehensive narrative covering syscall entry matrix (INT/SYSENTER/SYSCALL), interrupt handling, context switching, and privilege transitions.
- `docs/ISA-LEVEL-ANALYSIS.md` – Instruction-set reference for the i386 operations exercised by MINIX.
- `docs/MICROARCHITECTURE-DEEP-DIVE.md` – Performance characteristics (cycle costs, TLB behaviour, CR3 penalties).
- `latex/figures/` – Eleven TikZ diagrams summarising syscall flows, paging hierarchy, context switches, and privilege rings. See `CPU-INTERFACE-DIAGRAMS-MASTER-SUMMARY.md` for a curated index.

For synthesised highlights and cross-module context, consult the “CPU Interface Module” section in `MEGA-BEST-PRACTICES.md`.

---

## Build & Reproducibility

From the repository root:

```bash
make cpu                 # Compile all CPU-interface LaTeX deliverables
make clean-cpu           # Remove generated PDFs/aux files
```

Within the module:

```bash
cd modules/cpu-interface/latex
pdflatex minix-complete-analysis.tex
```

Ensure TeX Live 2023 (or compatible) is installed; the shared style suite enforces arXiv-compliant settings.

---

## Data & Tooling

- Global extraction pipelines live under `shared/pipeline/` and the project CLI (`python -m os_analysis_toolkit.cli`). Module-specific helpers live in `pipeline/`:
  - `run_cpu_analysis.sh` – wrapper around the CLI for CPU-focused runs (respects `MINIX_ROOT`, `OUTPUT_DIR`, `WORKERS`).
  - `render_syscall_summary.py` – short summary generator for `kernel_structure.json` outputs.
- Structured outputs (e.g., syscall catalog JSON, context-switch metrics) are generated by `make pipeline` and consumed by these docs and diagrams.

---

## Next Actions

1. Maintain Phase 3 harmonisation: keep LaTeX imports pointed at `shared/styles/` and avoid module-local duplicates. ✅
2. Populate `pipeline/` and `tests/` with CPU-focused scripts and pytest coverage as part of Phase 4.
3. Integrate MCP endpoints (Phase 5) so assistants can deliver syscall/context-switch analytics directly.
4. Update this README and the atlas whenever new assets land to preserve single-source-of-truth alignment.
